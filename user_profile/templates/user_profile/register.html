{% extends "base.html" %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/base.css' %}">
<link rel="stylesheet" href="{% static 'css/auth.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
{% endblock css %}

{% block js %}
<script src="{% static 'js/auth.js' %}" defer></script>
<script src="{% static 'js/register.js' %}" defer></script>
{% endblock js %}


{% block content %}
<div class="auth-page">
    <div class="auth-page-content">
        <div class="auth-header">
            <h1>QuizCraft</h1>
            <p>Your personal study assistant</p>
        </div>
        <div class="auth-form">
            <div class="auth-form-header">
                <h2>Welcome to QuizCraft</h2>
                <p>Create an account to continue</p>
            </div>
            <form id="register-form" method="post" action="{% url 'register' %}" novalidate>
                {% csrf_token %}
                <div class="form-group">
                    <label for="username">Username</label>
                    <input
                        type="text"
                        name="username"
                        id="username"
                        placeholder="Enter a username"
                        autocomplete="off"
                        aria-describedby="username-error"
                        required
                    >
                    <span id="username-error" aria-live="polite">{{ form.errors.username }}</span>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input
                        type="email"
                        name="email"
                        id="email"
                        placeholder="Enter an Email"
                        autocomplete="off"
                        aria-describedby="email-error"
                        required
                    >
                    <span id="email-error" aria-live="polite">{{ form.errors.email }}</span>
                </div>
                <div class="form-group">
                    <div class="form-group-header">
                        <label for="password">Password</label>
                    </div>
                    <div class="password-input-container">
                        <input
                        type="password"
                        name="password1"
                        id="password"
                        placeholder="Enter your password"
                        autocomplete="new-password"
                        aria-describedby="password-error"
                        required
                    >
                        <span class="password-toggle">
                            <i class="fas fa-eye"></i>
                        </span>
                    </div>
                    <span id="password-error" aria-live="polite">{{ form.errors.password1 }}</span>
                </div>
                <div class="form-group">
                    <div class="form-group-header">
                        <label for="confirm-password">Confirm Password</label>
                    </div>
                    <div class="password-input-container">
                        <input 
                            type="password"
                            name="password2"
                            id="confirm-password"
                            placeholder="Enter your password"
                            autocomplete="new-password"
                            aria-describedby="confirm_password-error"
                            required
                        >
                        <span class="confirm-password-toggle">
                            <i class="fas fa-eye"></i>
                        </span>
                    </div>
                    <span id="confirm-password-error" aria-live="polite">{{ form.errors.password2 }}</span>
                </div>
                <button type="submit">Register</button>
            </form>
            {% if form.errors %}
                <div class="form-errors">
                    <p>{{ form.errors.non_field_errors }}</p>
                </div>
            {% endif %}
            <div class="form-footer">
                <p>Already have an account? <a href="{% url 'login' %}">Login</a></p>
            </div>
        </div>
        <p class="rights-reserved">
            &copy; 2025 QuizCraft. All rights reserved.
        </p>
    </div>
</div>
{% endblock content %}