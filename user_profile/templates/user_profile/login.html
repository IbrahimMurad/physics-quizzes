{% extends "base.html" %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/base.css' %}">
<link rel="stylesheet" href="{% static 'css/auth.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
{% endblock css %}

{% block js %}
<script src="{% static 'js/init.js' %}" defer></script>
<script src="{% static 'js/auth.js' %}" defer></script>
<script src="{% static 'js/login.js' %}" defer></script>
{% endblock js %}

{% block content %}
<div class="auth-page">
    <div class="auth-page-content">
        <div class="auth-header">
            <h1>QuizCraft</h1>
            <p>Your personal study assistant</p>
        </div>
        <div class="auth-form">
            <div class="auth-form-header">
                <h2>Welcome back!</h2>
                <p>Login to your account to continue</p>
            </div>
            <form id="login-form" method="post" action="{% url 'login' %}" novalidate>
                {% csrf_token %}
                <input type="text" name="next" value="{{ next }}" hidden>
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" name="username" id="username" placeholder="Enter your username" aria-describedby="username-error" required>
                    <span id="username-error" aria-live="polite"></span>
                </div>
                <div class="form-group">
                    <div class="form-group-header">
                        <label for="password">Password</label>
                        <a href="#">Forgot password?</a>
                    </div>
                    <div class="password-input-container">
                        <input type="password" name="password" id="password" placeholder="Enter your password" aria-describedby="password-error" required>
                        <span class="password-toggle">
                            <i class="fas fa-eye"></i>
                        </span>
                    </div>
                    <span id="password-error" aria-live="polite"></span>
                </div>
                <button type="submit">Login</button>
            </form>
            {% if form.errors %}
                <div class="form-errors" aria-live="polite">
                    <p>Invalid username or password</p>
                </div>
            {% endif %}
            <div class="form-footer">
                <p>Don't have an account? <a href="{% url 'register' %}">Register</a></p>
            </div>
        </div>
        <p class="rights-reserved">
            &copy; 2025 QuizCraft. All rights reserved.
        </p>
    </div>
</div>
{% endblock content %}
